<!DOCTYPE html>
<html>
	<head>
		<title>Simple Simon</title>
		<meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/SimpleSimon.css">
	</head>
	<body>
		<section class="gameContainer">
			<div class="arrowButtons"></div>
			<div class="arrowButtons button" id="topButton"></div>
			<div class="arrowButtons"></div>
			<div class="arrowButtons button" id="leftButton"></div>
			<div class="arrowButtons"></div>
			<div class="arrowButtons button" id="rightButton"></div>
			<div class="arrowButtons"></div>
			<div class="arrowButtons button" id="downButton"></div>
			<div class="arrowButtons"></div>
		</section>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    	<script>
    	$(document).ready(function(){
    		var sequenceArray = [];


    		function getRandomNumberBetween0And(){
    			return Math.floor(Math.random() * 4) + 1;
    		}

    		
    		function animate(element){
    			$(element).animate({
    				opacity: 1


    			}, 500, function(){
    				$(element).animate({
    					opacity: .25
    				});
    			});
    		}

            function gameover(){
               alert("Game Over");
               sequenceArray = [];
            }

            var counter = 0;

            function compareMove(usersTurn){
                console.log("users turn: " + usersTurn);
                console.log("sequence: " + sequenceArray[counter]);
               if (usersTurn != sequenceArray[counter]){
                   
                   gameover();
               } else if (usersTurn == sequenceArray[counter] && counter == (sequenceArray.length -1)){
                    console.log(usersTurn);
                    counter = 0;
                    simonsArray();
               } else {
                   counter++;
               }
    
            }

            function simonsArray(input){
                var squares = ["topButton", "rightButton", "downButton", "leftButton"]; 
        
                var randomIndex = getRandomNumberBetween0And();
            
                var randomSquare = squares[randomIndex];
        
                console.log(randomSquare);
        
                sequenceArray.push(randomSquare);
        
                var i = 0;
                var intervalId = setInterval(function(){
                    
                    switch (sequenceArray[i]){
                        case "topButton": 
                            animate('#topButton');
                            break;
                        case "rightButton":
                            animate('#rightButton');
                            break;
                        case "downButton":
                            animate('#downButton');
                            break;
                        case "leftButton":
                            animate('#leftButton');
                            break;
                    }
        
                    if(i < sequenceArray.length){
                        i++;

                    } else {

                        clearInterval(intervalId);
                    }

                }, 1000);
            }
    
            simonsArray();




            
            // I need to limit the amount of numbers allowed in the array for each round.
            

            // Add a seperate function that will run after Simons turn. This function should relay information back to simon in the console log. ** An if else statement should be created in order to ensure the user clicked the arrows in the correct sequence. An alert/click/animate event can be added to show a cool feature or play a noise if the user fails and/or passes the level. 

            // var roundTwo = simonsArray + randomSquare 

            // The console.logged information returned should be logged into a variable 
            // The variable should be the array that was returned + randomSquare (for the iteration/round to start). 
            // This function should console.log the numbers Something like line 56 - 83 Below.      
            // $(document).ready(function(){
            //  var konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];
            //  var cheat = [];

            // var i = 0;
            // if the class name of the element the user chose matches simonSequence[i]
            // i++;
            // else simonSequence = []

            // simonSequence.push(randomSquare());
            // simonSequence[0] == playerSequence[0]

            $(".button").click(function(){
                animate("#" + $(this).attr("id"));
                compareMove($(this).attr("id"));

                console.log();
            });
    		
    	});
    	</script>
	</body>
</html>
       